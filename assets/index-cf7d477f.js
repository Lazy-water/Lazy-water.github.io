import{c as C,b as N,a as S,t as k}from"./helper-1e979f21.js";import{g as b}from"./index-7dbb04b3.js";import{_ as F}from"./locales-2658cfbc.js";import{B as I,y as f,C as d,J as E,r as $,o as m,a as p,e as r,f as V,d as h,i as v,t as W,E as j,w as x,A as w,F as A}from"./vue-libs-eb153a24.js";const D=I({name:C("NoticeBar")[0],components:{FanIcon:N},options:{virtualHost:!0},props:{customStyle:[String,Object],text:String,speed:{type:[Number,String],default:9},icon:String,iconSize:{type:[String,Number],default:14},iconColor:{type:String},textSize:{type:[Number,String],default:14},color:{type:String,default:"#f60"},bg:{type:String,default:"#fff7cc"},scrollable:{type:Boolean,default:!0},multiline:{type:Boolean,default:!1}},setup(t){const i=f(0),c=f(0),a=f(""),l=d({set:e=>{e&&(a.value=S(e))},get:()=>{const{customStyle:e,color:o,bg:n,textSize:s}=t;let g=`color:${o};background:${n};`;return g+=`font-size:${k(s)};`,S(e)+g+a.value}}),_=d(()=>{const{multiline:e,scrollable:o}=t;let{speed:n}=t,s=`white-space:${e?"normal":"nowrap"};`;if(!o&&!e)return s+="width:100%;overflow:hidden;text-overflow:ellipsis;";if(e)return s;if(typeof n=="string"&&n.includes("s")&&(n=n.substring(0,n.length-1)),(o||c.value<=i.value)&&n)return s+=`animation: wordsLoop ${n}s linear infinite`}),u=d(()=>{const{icon:e,iconColor:o,color:n}=t;return o||!e||e.includes("/")?o:n}),y=j(),z=async()=>{const e=await b({selector:".fan-notice-bar__r",scope:y}),o=await b({selector:".fan-notice-bar__text",scope:y});c.value=e.width,i.value=o.width,l.value=`--notice-bar-var:${e.width}px;`};return E(()=>z()),{theStyle:l,textBoxStyle:_,theIconColor:u}}}),H={key:0,class:"fan-notice-bar__l"},J={class:"fan-flex-1 fan-notice-bar__r"};function L(t,i,c,a,l,_){const u=$("FanIcon");return m(),p("div",{class:"fan-flex fan-align-start fan-notice-bar",style:v(t.theStyle)},[t.icon?(m(),p("div",H,[r(u,{name:t.icon,color:t.theIconColor,size:t.iconSize,"custom-style":"vertical-align:middle;"},null,8,["name","color","size"])])):V("v-if",!0),h("div",J,[h("div",{class:"fan-notice-bar__text",style:v(t.textBoxStyle)},W(t.text),5)])],4)}const B=F(D,[["render",L]]),K={__name:"index",setup(t){return(i,c)=>{const a=$("demo-block");return m(),p(A,null,[r(a,{title:"滚动"},{default:x(()=>[r(w(B),{icon:"sound",text:"欲穷千里目，更上一层楼。欲穷千里目，更上一层楼。欲穷千里目，更上一层楼。"})]),_:1}),r(a,{title:"换行"},{default:x(()=>[r(w(B),{icon:"sound",text:"欲穷千里目，更上一层楼。欲穷千里目，更上一层楼。欲穷千里目，更上一层楼。",multiline:""})]),_:1})],64)}}};export{K as default};
