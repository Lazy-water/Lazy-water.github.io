import{B as Q,C as A,y as z,u as b,r as E,o as p,a as v,d as y,i as m,c as I,n as h,j as w,_ as D,F as N,e as d,w as S,A as g}from"./vue-libs-eb153a24.js";import{c as j,b as O,a as k,t as V}from"./helper-1e979f21.js";import{a as U}from"./index-5cf139c2.js";import{_ as F}from"./locales-2658cfbc.js";function G(e){return{type:"text",mode:e?"numeric":"decimal"}}const K=Q({name:j("InputNumber")[0],options:{virtualHost:!0},components:{FanIcon:O},props:{customStyle:[String,Object],modelValue:{type:[Number,String]},integer:{type:Boolean,default:!0},step:{type:Number,default:1},actionSize:{type:[Number,String],default:22},actionColor:{type:String},inputWidth:{type:[Number,String],default:32},inputStyle:String,min:{type:Number,default:1},max:{type:Number,default:99999},minusIcon:{type:String},plusIcon:{type:String}},emits:["update:modelValue","input","change","overlimit"],setup(e,t){const c=A(()=>k(e.customStyle)),u=z(1),s=A(()=>G(e.integer)),r=A(()=>{const n=V(e.actionSize);return`width:${n};height:${n};`}),a=A(()=>{const n=V(e.actionSize);return`width:${V(e.inputWidth)};height:${n};line-height:${n};${k(e.inputStyle)}`}),i=A(()=>u.value<=e.min),B=A(()=>e.max&&u.value>=e.max);return b(()=>e.modelValue,n=>{(n||n===0)&&n!==u.value&&(u.value=n)},{immediate:!0}),b(u,n=>{n!==e.modelValue&&t.emit("update:modelValue",n),t.emit("input",n),t.emit("change",n)}),{innerValue:u,theStyle:c,inputType:s,actionStyle:r,theInputStyle:a,minusDisabled:i,plusDisabled:B,onInput:n=>{let l=Number(U(n))||"";const{min:o,max:f}=e;!l||l<o?(l=o,t.emit("overlimit","minus")):(f||f===0)&&l>f&&(l=f,t.emit("overlimit","plus")),u.value=l},minus:()=>{const{step:n,min:l}=e,o=u.value-n;o<l?n>1?u.value=l:t.emit("overlimit","minus"):u.value=o},plus:()=>{const{step:n,max:l}=e,o=u.value+n;(l||l===0)&&o>l?n>1?u.value=l:t.emit("overlimit","plus"):u.value=o}}}}),Y=["type","inputmode"];function T(e,t,c,u,s,r){const a=E("FanIcon");return p(),v("div",{style:m(e.theStyle),class:"fan-input-num"},[y("button",{class:h(["fan-flex fan-align-center fan-justify-center fan-input-num__action",{"fan-input-num--disabled":e.minusDisabled}]),style:m(e.actionStyle),onClick:t[0]||(t[0]=(...i)=>e.minus&&e.minus(...i))},[e.minusIcon?(p(),I(a,{key:1,name:e.minusIcon,size:e.actionSize*.7,color:e.actionColor},null,8,["name","size","color"])):(p(),v("div",{key:0,class:"fan-input-num__hl",style:m({backgroundColor:e.actionColor})},null,4))],6),w(y("input",{class:"fan-input-num__field",style:m(e.theInputStyle),controlled:"","onUpdate:modelValue":t[1]||(t[1]=i=>e.innerValue=i),type:e.inputType.type,inputmode:e.inputType.mode,onInput:t[2]||(t[2]=(...i)=>e.onInput&&e.onInput(...i))},null,44,Y),[[D,e.innerValue]]),y("button",{class:h(["fan-flex fan-align-center fan-justify-center fan-input-num__action",{"fan-input-num--disabled":e.plusDisabled}]),style:m(e.actionStyle),onClick:t[3]||(t[3]=(...i)=>e.plus&&e.plus(...i))},[e.plusIcon?(p(),I(a,{key:1,name:e.plusIcon,size:e.actionSize*.7,color:e.actionColor},null,8,["name","size","color"])):(p(),v(N,{key:0},[y("div",{class:"fan-input-num__hl",style:m({backgroundColor:e.actionColor})},null,4),y("div",{class:"fan-input-num__vl",style:m({backgroundColor:e.actionColor})},null,4)],64))],6)],4)}const C=F(K,[["render",T]]),X={__name:"index",setup(e){const t=z(2),c=u=>{alert(`不能再${u}了`)};return(u,s)=>{const r=E("demo-block");return p(),v(N,null,[d(r,{title:"基础用法"},{default:S(()=>[d(g(C))]),_:1}),d(r,{title:"自定义"},{default:S(()=>[d(g(C),{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=a=>t.value=a),onOverlimit:c,"minus-icon":"caret-down","plus-icon":"caret-up","action-color":"blue"},null,8,["modelValue"])]),_:1}),d(r,{title:"自定义"},{default:S(()=>[d(g(C),{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=a=>t.value=a),onOverlimit:c,"minus-icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAOVBMVEUAAADv7+/v7+/u7u7////w8PDu7u7u7u7v7+/u7u7w8PDs7Oz29vby8vLu7u7v7+/v7+/v7+/u7u4lvVdEAAAAEnRSTlMA+OuXCFbjtKyHeDcbE9PSnJukAodAAAAAw0lEQVQ4y42VWw6EIAxF2/KQh6J2/4udTDKZimi458uPExtKe6GeWtIuzLKnUumVNUe9EPP6qG2O9Qa7bfSC6AMSbpp3+oLznbfoK4vvPci0uo+4/zl0Qvj1RWaibFYYKL7yXOTvHWUFyEQUETESVYWoVDCxUMLERA0TG4n1IHjq8ME6J2TfBw2c9peLeI7iYSJcGj3MDrcHbjh8hehQwGMGDy68Cvhy4euKBwAeKXhI4bGHBykezXjY2/PRhFna8Hx8AJ9eUQZhnc93AAAAAElFTkSuQmCC","plus-icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAuxJREFUWEfVmU1IVFEUx///O4YO1EKScEahRZB9GAQVhVBktotAsMBFq1YVtmmlkTbNSLVqY2grV0GEBkK082kUSFBBoH0YtIhm3khNuCgYh/SeeE9HZvya92acuL3Fg8e759zfu+edj3suUcQlkYiKn1BHAqKaATkkkAYSIRFuc9SR8ksESYLTAN8uUI/Xv9CvGYlov9PRj0Bqorcuk9YdAC4AqPcjCyAO4GFlUN2vabqR8CrrCTA+enu74p+YgBcBVHpVvs64DCGDWrZ015++/rOQroKAidFoO4g+ADWFlPl8nwoo1VHbfOPxRnLrAsp4pCKpVZ8Al3xO7Gs4gQchpa+yOTK/luCagDJxL5ic+z0kgjO+ZityMIlnoaqt59l0Lb1SxSpAd+VEjfwruCyQC0ndunIlVwHaVnSg3GZdb6Edc4dbei7nvs8DXHKIR0VaalPEAkq15zrOMqATSsj5T2XwVr/gKZGKPdkQtAxoW7F+geQtry/NDCBYe8AVSc9MArLgSzzfrDIQbrl5xc1Kzm0pQ3wpJQhXN7YhuGPfIuD3D5idelI0IIBMZVDtcjKOC5iwoncAdJaiMXSyC1QVrgrR80g+d1SWdN2ta+npopP47ePqaxG5NW/28KnuvGd7LFYSnZO7wy/1Tn4bix5VglelaisDIDRxjLbV2ynQJdujHICE6mJ8NDpMos3EFSQ4zLgVmySk0URAAadoj0V/iHgopRhA9f5WVNXsXvZWvx/lePdc6jNm3494ipMkUkxYsTlAChahwdBBVO8965dpzfGzH58inXznQRcz5gMab2KTnQTAJG0rNiSQcx5+iA2HlCcOctj8QG18qjO+WDC+3PovClYH0rZu9QtoZsnvABq/aXL/xcU+jJnbzmwUNnrj7m54TG99uJAmN4+ypja6/ZZbFRjbwMyFXGwBL8QEskktYA5qCWxOCzgX1Ngm+spCMPcYQos+DLJBUWpzjyG0cAYi04rqTSnHEH8BG1uvFygUekoAAAAASUVORK5CYII="},null,8,["modelValue"])]),_:1})],64)}}};export{X as default};
