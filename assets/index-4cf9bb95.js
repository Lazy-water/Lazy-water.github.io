import{c as C}from"./helper-1e979f21.js";import{F as V}from"./picker-d505ce8d.js";import{_ as $}from"./locales-2658cfbc.js";import{B as k,D as S,C as y,u as c,r as p,o as h,c as w,O as g,w as v,h as F,y as f,e as T,A as B}from"./vue-libs-eb153a24.js";import"./popup-0f269fc4.js";import"./overlay-0e43632a.js";import"./text-3debc4c0.js";const P=k({name:C("TimePicker")[0],options:{virtualHost:!0},emits:["update:show","update:modelValue","confirm","cancel"],components:{FanPicker:V},props:{modelValue:{type:Array,default:()=>[]},show:{type:Boolean,default:!1},title:String,filter:{type:[Function,null],default:null},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确认"},second:{type:Boolean,default:!1}},setup(o,{emit:n}){const r=(e,u)=>{let i=Array.from({length:e},(d,s)=>s<10?`0${s}`:s);return o.filter&&(i=o.filter(u,i)),i=i.map((d,s)=>({text:d,id:s<10?`0${s}`:String(s),index:s})),i},a=S({innerShow:o.show,value:o.modelValue,hours:r(24,"hours"),minute:r(60,"minute"),second:r(60,"second")}),m=y(()=>{let e=[a.hours,a.minute];return o.second&&e.push(a.second),e}),l=e=>n("confirm",e),t=e=>n("cancel");return c(o.modelValue,e=>{a.value=[...e]},{deep:!0}),c(()=>a.value,e=>{n("update:modelValue",e)},{deep:!0}),c(()=>o.show,e=>a.innerShow=e),c(()=>a.innerShow,e=>n("update:show",e)),{state:a,list:m,onConfirm:l,onCancel:t}}});function _(o,n,r,a,m,l){const t=p("FanPicker");return h(),w(t,{modelValue:o.state.value,"onUpdate:modelValue":n[0]||(n[0]=e=>o.state.value=e),show:o.state.innerShow,"onUpdate:show":n[1]||(n[1]=e=>o.state.innerShow=e),data:o.list,"value-key":"id",title:o.title,"cancel-text":o.cancelText,"confirm-text":o.confirmText,onConfirm:o.onConfirm,onCancel:o.onCancel},g({_:2},[o.$slots.default?{name:"header",fn:v(()=>[F(o.$slots,"default")]),key:"0"}:void 0]),1032,["modelValue","show","data","title","cancel-text","confirm-text","onConfirm","onCancel"])}const U=$(P,[["render",_]]),q={__name:"index",setup(o){const n=f(!0),r=f(["00","03","23"]),a=l=>{console.log(l),console.log(r.value)},m=(l,t)=>l==="hours"?t.map(e=>`${e}时`):l==="minute"?t.map(e=>`${e}分`):l==="second"?t.map(e=>`${e}秒`):t;return(l,t)=>{const e=p("demo-block");return h(),w(e,{title:"基础用法"},{default:v(()=>[T(B(U),{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=u=>r.value=u),show:n.value,"onUpdate:show":t[1]||(t[1]=u=>n.value=u),second:"",filter:m,onConfirm:a},null,8,["modelValue","show"])]),_:1})}}};export{q as default};
